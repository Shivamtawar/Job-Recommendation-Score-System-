<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Results - AI Resume Matcher</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="header-title">
                <i class="fas fa-chart-bar"></i>
                Match Results
            </h1>
            <p class="header-subtitle">AI-powered resume analysis complete</p>
        </div>
    </header>

    <main class="main">
        <div class="container">
            <!-- Overall Score Card -->
            <div class="score-card">
                <div class="score-header">
                    <h2 class="candidate-name">
                        <i class="fas fa-user"></i>
                        {{ response.candidate_name }}
                    </h2>
                    <p class="job-title">
                        <i class="fas fa-briefcase"></i>
                        {{ response.job_title }}
                    </p>
                </div>
                
                <div class="overall-score">
                    <div class="score-circle">
                        <div class="score-number">{{ response.match_scores.overall_score }}%</div>
                        <div class="score-label">Overall Match</div>
                    </div>
                    <div class="score-status">
                        {% if response.match_scores.overall_score >= 80 %}
                            <i class="fas fa-check-circle status-excellent"></i>
                            <span class="status-text status-excellent">Excellent Match</span>
                        {% elif response.match_scores.overall_score >= 65 %}
                            <i class="fas fa-thumbs-up status-good"></i>
                            <span class="status-text status-good">Good Match</span>
                        {% elif response.match_scores.overall_score >= 50 %}
                            <i class="fas fa-exclamation-triangle status-fair"></i>
                            <span class="status-text status-fair">Fair Match</span>
                        {% else %}
                            <i class="fas fa-times-circle status-poor"></i>
                            <span class="status-text status-poor">Poor Match</span>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Detailed Scores Grid -->
            <div class="scores-grid">
                <div class="score-item">
                    <div class="score-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="score-content">
                        <h3 class="score-title">Skills Match</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" data-width="{{ response.match_scores.skills_match }}"></div>
                        </div>
                        <div class="score-value">{{ response.match_scores.skills_match }}%</div>
                        <p class="score-weight">Weight: 50%</p>
                    </div>
                </div>

                <div class="score-item">
                    <div class="score-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <div class="score-content">
                        <h3 class="score-title">Experience Match</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" data-width="{{ response.match_scores.experience_match }}"></div>
                        </div>
                        <div class="score-value">{{ response.match_scores.experience_match }}%</div>
                        <p class="score-weight">Weight: 30%</p>
                    </div>
                </div>

                <div class="score-item">
                    <div class="score-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="score-content">
                        <h3 class="score-title">Education Match</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" data-width="{{ response.match_scores.education_match }}"></div>
                        </div>
                        <div class="score-value">{{ response.match_scores.education_match }}%</div>
                        <p class="score-weight">Weight: 20%</p>
                    </div>
                </div>
            </div>

            <!-- Recommendations Section -->
            <div class="recommendations-card">
                <h3 class="recommendations-title">
                    <i class="fas fa-lightbulb"></i>
                    Recommendations
                </h3>
                <div class="recommendations-grid">
                    {% if response.match_scores.skills_match < 70 %}
                        <div class="recommendation-item">
                            <i class="fas fa-tools"></i>
                            <div class="recommendation-content">
                                <h4>Enhance Technical Skills</h4>
                                <p>Consider improving your technical skill set to better align with job requirements</p>
                            </div>
                        </div>
                    {% endif %}
                    
                    {% if response.match_scores.experience_match < 70 %}
                        <div class="recommendation-item">
                            <i class="fas fa-user-tie"></i>
                            <div class="recommendation-content">
                                <h4>Highlight Relevant Experience</h4>
                                <p>Emphasize projects and roles that directly relate to this position</p>
                            </div>
                        </div>
                    {% endif %}
                    
                    {% if response.match_scores.education_match < 70 %}
                        <div class="recommendation-item">
                            <i class="fas fa-book"></i>
                            <div class="recommendation-content">
                                <h4>Consider Additional Certifications</h4>
                                <p>Relevant certifications could strengthen your educational background</p>
                            </div>
                        </div>
                    {% endif %}
                    
                    {% if response.match_scores.overall_score >= 80 %}
                        <div class="recommendation-item">
                            <i class="fas fa-star"></i>
                            <div class="recommendation-content">
                                <h4>Excellent Candidate!</h4>
                                <p>Your profile shows strong alignment with the job requirements</p>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="/" class="btn btn-secondary">
                    <i class="fas fa-arrow-left"></i>
                    Analyze Another Resume
                </a>
                <button onclick="window.print()" class="btn btn-primary">
                    <i class="fas fa-download"></i>
                    Save Results
                </button>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 AI Resume Matcher. Results generated using advanced semantic analysis.</p>
        </div>
    </footer>

    <script>
        // Animate progress bars on load
        document.addEventListener('DOMContentLoaded', function() {
            const progressBars = document.querySelectorAll('.progress-fill');
            
            progressBars.forEach((bar, index) => {
                const targetWidth = bar.getAttribute('data-width') + '%';
                setTimeout(() => {
                    bar.style.transition = 'width 1s ease-in-out';
                    bar.style.width = '0%';
                    setTimeout(() => {
                        bar.style.width = targetWidth;
                    }, 100);
                }, index * 200);
            });
        });

        // Animate score circle
        const scoreNumber = document.querySelector('.score-number');
        if (scoreNumber) {
            const targetScore = parseInt(scoreNumber.textContent);
            let currentScore = 0;
            
            const animateScore = () => {
                if (currentScore < targetScore) {
                    currentScore++;
                    scoreNumber.textContent = currentScore + '%';
                    requestAnimationFrame(animateScore);
                }
            };
            
            setTimeout(animateScore, 500);
        }
    </script>
</body>
</html>